{"_id":"static-eval","_rev":"28-75cb3d2cdf224b13ff26ac53d44e8908","name":"static-eval","description":"evaluate statically-analyzable expressions","dist-tags":{"latest":"2.0.0"},"versions":{"0.0.0":{"name":"static-eval","version":"0.0.0","description":"evaluate statically-analyzable expressions","main":"index.js","devDependencies":{"tape":"~1.0.4","esprima":"~1.0.3"},"scripts":{"test":"tape test/*.js"},"testling":{"files":"test/*.js","browsers":["ie/8..latest","ff/latest","chrome/latest","opera/latest","safari/latest"]},"repository":{"type":"git","url":"git://github.com/substack/static-eval.git"},"homepage":"https://github.com/substack/static-eval","keywords":["static","eval","expression","esprima","ast","abstract","syntax","tree","analysis"],"author":{"name":"James Halliday","email":"mail@substack.net","url":"http://substack.net"},"license":"MIT","bugs":{"url":"https://github.com/substack/static-eval/issues"},"_id":"static-eval@0.0.0","dist":{"shasum":"9f5bf45fc7b4f68c62701c3eeda11f9495f9f0e2","tarball":"https://registry.npmjs.org/static-eval/-/static-eval-0.0.0.tgz"},"_from":".","_npmVersion":"1.3.0","_npmUser":{"name":"substack","email":"mail@substack.net"},"maintainers":[{"name":"substack","email":"mail@substack.net"}],"directories":{}},"0.1.0":{"name":"static-eval","version":"0.1.0","description":"evaluate statically-analyzable expressions","main":"index.js","devDependencies":{"tape":"~1.0.4","esprima":"~1.0.3"},"scripts":{"test":"tape test/*.js"},"testling":{"files":"test/*.js","browsers":["ie/8..latest","ff/latest","chrome/latest","opera/latest","safari/latest"]},"repository":{"type":"git","url":"git://github.com/substack/static-eval.git"},"homepage":"https://github.com/substack/static-eval","keywords":["static","eval","expression","esprima","ast","abstract","syntax","tree","analysis"],"author":{"name":"James Halliday","email":"mail@substack.net","url":"http://substack.net"},"license":"MIT","bugs":{"url":"https://github.com/substack/static-eval/issues"},"_id":"static-eval@0.1.0","dist":{"shasum":"824d52d71385669e20b00a77a887a0ccf9a11be5","tarball":"https://registry.npmjs.org/static-eval/-/static-eval-0.1.0.tgz"},"_from":".","_npmVersion":"1.3.7","_npmUser":{"name":"substack","email":"mail@substack.net"},"maintainers":[{"name":"substack","email":"mail@substack.net"}],"directories":{}},"0.1.1":{"name":"static-eval","version":"0.1.1","description":"evaluate statically-analyzable expressions","main":"index.js","devDependencies":{"tape":"~1.0.4","esprima":"~1.0.3"},"scripts":{"test":"tape test/*.js"},"testling":{"files":"test/*.js","browsers":["ie/8..latest","ff/latest","chrome/latest","opera/latest","safari/latest"]},"repository":{"type":"git","url":"git://github.com/substack/static-eval.git"},"homepage":"https://github.com/substack/static-eval","keywords":["static","eval","expression","esprima","ast","abstract","syntax","tree","analysis"],"author":{"name":"James Halliday","email":"mail@substack.net","url":"http://substack.net"},"license":"MIT","bugs":{"url":"https://github.com/substack/static-eval/issues"},"_id":"static-eval@0.1.1","dist":{"shasum":"2f3c9e727604a61ac761b9663562a76c61f5c523","tarball":"https://registry.npmjs.org/static-eval/-/static-eval-0.1.1.tgz"},"_from":".","_npmVersion":"1.4.6","_npmUser":{"name":"substack","email":"mail@substack.net"},"maintainers":[{"name":"substack","email":"mail@substack.net"}],"directories":{}},"0.2.0":{"name":"static-eval","version":"0.2.0","description":"evaluate statically-analyzable expressions","main":"index.js","devDependencies":{"tape":"~1.0.4","esprima":"~1.0.3"},"scripts":{"test":"tape test/*.js"},"testling":{"files":"test/*.js","browsers":["ie/8..latest","ff/latest","chrome/latest","opera/latest","safari/latest"]},"repository":{"type":"git","url":"git://github.com/substack/static-eval.git"},"homepage":"https://github.com/substack/static-eval","keywords":["static","eval","expression","esprima","ast","abstract","syntax","tree","analysis"],"author":{"name":"James Halliday","email":"mail@substack.net","url":"http://substack.net"},"license":"MIT","bugs":{"url":"https://github.com/substack/static-eval/issues"},"_id":"static-eval@0.2.0","dist":{"shasum":"9098aac9af250ac8d05e7278fa261488e4232b16","tarball":"https://registry.npmjs.org/static-eval/-/static-eval-0.2.0.tgz"},"_from":".","_npmVersion":"1.4.6","_npmUser":{"name":"substack","email":"mail@substack.net"},"maintainers":[{"name":"substack","email":"mail@substack.net"}],"directories":{}},"0.2.1":{"name":"static-eval","version":"0.2.1","description":"evaluate statically-analyzable expressions","main":"index.js","dependencies":{"escodegen":"~0.0.24"},"devDependencies":{"tape":"~1.0.4","esprima":"~1.0.3"},"scripts":{"test":"tape test/*.js"},"testling":{"files":"test/*.js","browsers":["ie/8..latest","ff/latest","chrome/latest","opera/latest","safari/latest"]},"repository":{"type":"git","url":"git://github.com/substack/static-eval.git"},"homepage":"https://github.com/substack/static-eval","keywords":["static","eval","expression","esprima","ast","abstract","syntax","tree","analysis"],"author":{"name":"James Halliday","email":"mail@substack.net","url":"http://substack.net"},"license":"MIT","bugs":{"url":"https://github.com/substack/static-eval/issues"},"_id":"static-eval@0.2.1","dist":{"shasum":"3534a1b1addb6901c1b903f72b020fab8baece81","tarball":"https://registry.npmjs.org/static-eval/-/static-eval-0.2.1.tgz"},"_from":".","_npmVersion":"1.4.6","_npmUser":{"name":"substack","email":"mail@substack.net"},"maintainers":[{"name":"substack","email":"mail@substack.net"}],"directories":{}},"0.2.2":{"name":"static-eval","version":"0.2.2","description":"evaluate statically-analyzable expressions","main":"index.js","dependencies":{"escodegen":"~0.0.24"},"devDependencies":{"tape":"~1.0.4","esprima":"~1.0.3"},"scripts":{"test":"tape test/*.js"},"testling":{"files":"test/*.js","browsers":["ie/8..latest","ff/latest","chrome/latest","opera/latest","safari/latest"]},"repository":{"type":"git","url":"git://github.com/substack/static-eval.git"},"homepage":"https://github.com/substack/static-eval","keywords":["static","eval","expression","esprima","ast","abstract","syntax","tree","analysis"],"author":{"name":"James Halliday","email":"mail@substack.net","url":"http://substack.net"},"license":"MIT","bugs":{"url":"https://github.com/substack/static-eval/issues"},"_id":"static-eval@0.2.2","dist":{"shasum":"49e3345ee802e551232845171d8068ab04f94eaa","tarball":"https://registry.npmjs.org/static-eval/-/static-eval-0.2.2.tgz"},"_from":".","_npmVersion":"1.4.3","_npmUser":{"name":"substack","email":"mail@substack.net"},"maintainers":[{"name":"substack","email":"mail@substack.net"}],"directories":{}},"0.2.3":{"name":"static-eval","version":"0.2.3","description":"evaluate statically-analyzable expressions","main":"index.js","dependencies":{"escodegen":"~0.0.24"},"devDependencies":{"tape":"~1.0.4","esprima":"~1.0.3"},"scripts":{"test":"tape test/*.js"},"testling":{"files":"test/*.js","browsers":["ie/8..latest","ff/latest","chrome/latest","opera/latest","safari/latest"]},"repository":{"type":"git","url":"git://github.com/substack/static-eval.git"},"homepage":"https://github.com/substack/static-eval","keywords":["static","eval","expression","esprima","ast","abstract","syntax","tree","analysis"],"author":{"name":"James Halliday","email":"mail@substack.net","url":"http://substack.net"},"license":"MIT","gitHead":"c23a774cb1931be092633af716eb3f63a249032c","bugs":{"url":"https://github.com/substack/static-eval/issues"},"_id":"static-eval@0.2.3","_shasum":"023f17ac9fee426ea788c12ea39206dc175f8b2a","_from":".","_npmVersion":"1.4.15","_npmUser":{"name":"substack","email":"mail@substack.net"},"maintainers":[{"name":"substack","email":"mail@substack.net"}],"dist":{"shasum":"023f17ac9fee426ea788c12ea39206dc175f8b2a","tarball":"https://registry.npmjs.org/static-eval/-/static-eval-0.2.3.tgz"},"directories":{}},"0.2.4":{"name":"static-eval","version":"0.2.4","description":"evaluate statically-analyzable expressions","main":"index.js","dependencies":{"escodegen":"~0.0.24"},"devDependencies":{"tape":"~1.0.4","esprima":"~1.0.3"},"scripts":{"test":"tape test/*.js"},"testling":{"files":"test/*.js","browsers":["ie/8..latest","ff/latest","chrome/latest","opera/latest","safari/latest"]},"repository":{"type":"git","url":"git://github.com/substack/static-eval.git"},"homepage":"https://github.com/substack/static-eval","keywords":["static","eval","expression","esprima","ast","abstract","syntax","tree","analysis"],"author":{"name":"James Halliday","email":"mail@substack.net","url":"http://substack.net"},"license":"MIT","gitHead":"5c1828fc85b5f040374ab914dcffa23e6c14d315","bugs":{"url":"https://github.com/substack/static-eval/issues"},"_id":"static-eval@0.2.4","_shasum":"b7d34d838937b969f9641ca07d48f8ede263ea7b","_from":".","_npmVersion":"2.3.0","_nodeVersion":"0.12.0","_npmUser":{"name":"substack","email":"mail@substack.net"},"maintainers":[{"name":"substack","email":"mail@substack.net"}],"dist":{"shasum":"b7d34d838937b969f9641ca07d48f8ede263ea7b","tarball":"https://registry.npmjs.org/static-eval/-/static-eval-0.2.4.tgz"},"directories":{}},"1.0.0":{"name":"static-eval","version":"1.0.0","description":"evaluate statically-analyzable expressions","main":"index.js","dependencies":{"escodegen":"^1.8.1"},"devDependencies":{"esprima":"^2.7.3","tape":"^4.6.0"},"scripts":{"test":"tape test/*.js"},"testling":{"files":"test/*.js","browsers":["ie/8..latest","ff/latest","chrome/latest","opera/latest","safari/latest"]},"repository":{"type":"git","url":"git://github.com/substack/static-eval.git"},"homepage":"https://github.com/substack/static-eval","keywords":["static","eval","expression","esprima","ast","abstract","syntax","tree","analysis"],"author":{"name":"James Halliday","email":"mail@substack.net","url":"http://substack.net"},"license":"MIT","gitHead":"12b26f9b515adba903833534e469aceb479aa020","bugs":{"url":"https://github.com/substack/static-eval/issues"},"_id":"static-eval@1.0.0","_shasum":"75ef2a4322216785cd90f26c9ca11a77a23f22c1","_from":".","_npmVersion":"3.10.5","_nodeVersion":"6.3.1","_npmUser":{"name":"substack","email":"substack@gmail.com"},"dist":{"shasum":"75ef2a4322216785cd90f26c9ca11a77a23f22c1","tarball":"https://registry.npmjs.org/static-eval/-/static-eval-1.0.0.tgz"},"maintainers":[{"name":"substack","email":"mail@substack.net"}],"_npmOperationalInternal":{"host":"packages-16-east.internal.npmjs.com","tmp":"tmp/static-eval-1.0.0.tgz_1475077816062_0.47683437960222363"},"directories":{}},"1.1.0":{"name":"static-eval","version":"1.1.0","description":"evaluate statically-analyzable expressions","main":"index.js","dependencies":{"escodegen":"^1.8.1"},"devDependencies":{"esprima":"^2.7.3","tape":"^4.6.0"},"scripts":{"test":"tape test/*.js"},"testling":{"files":"test/*.js","browsers":["ie/8..latest","ff/latest","chrome/latest","opera/latest","safari/latest"]},"repository":{"type":"git","url":"git://github.com/substack/static-eval.git"},"homepage":"https://github.com/substack/static-eval","keywords":["static","eval","expression","esprima","ast","abstract","syntax","tree","analysis"],"author":{"name":"James Halliday","email":"mail@substack.net","url":"http://substack.net"},"license":"MIT","gitHead":"9a4965c90cb8914e7ca409d0640f7a5408601ee2","bugs":{"url":"https://github.com/substack/static-eval/issues"},"_id":"static-eval@1.1.0","_shasum":"61c355b215eb67c193fe5faf0f44e13aeb68ff3a","_from":".","_npmVersion":"3.10.5","_nodeVersion":"6.3.1","_npmUser":{"name":"substack","email":"substack@gmail.com"},"dist":{"shasum":"61c355b215eb67c193fe5faf0f44e13aeb68ff3a","tarball":"https://registry.npmjs.org/static-eval/-/static-eval-1.1.0.tgz"},"maintainers":[{"name":"ahdinosaur","email":"michael.williams@enspiral.com"},{"name":"substack","email":"substack@gmail.com"}],"_npmOperationalInternal":{"host":"packages-16-east.internal.npmjs.com","tmp":"tmp/static-eval-1.1.0.tgz_1475077953157_0.6413459368050098"},"directories":{}},"1.1.1":{"name":"static-eval","version":"1.1.1","description":"evaluate statically-analyzable expressions","main":"index.js","dependencies":{"escodegen":"^1.8.1"},"devDependencies":{"esprima":"^2.7.3","tape":"^4.6.0"},"scripts":{"test":"tape test/*.js"},"testling":{"files":"test/*.js","browsers":["ie/8..latest","ff/latest","chrome/latest","opera/latest","safari/latest"]},"repository":{"type":"git","url":"git://github.com/substack/static-eval.git"},"homepage":"https://github.com/substack/static-eval","keywords":["static","eval","expression","esprima","ast","abstract","syntax","tree","analysis"],"author":{"name":"James Halliday","email":"mail@substack.net","url":"http://substack.net"},"license":"MIT","gitHead":"ab81134a43431457508bc2ead500f2d93ac0a71d","bugs":{"url":"https://github.com/substack/static-eval/issues"},"_id":"static-eval@1.1.1","_shasum":"ca8130210354cf13d9a722bc7e923778457bb192","_from":".","_npmVersion":"3.10.5","_nodeVersion":"6.3.1","_npmUser":{"name":"substack","email":"substack@gmail.com"},"dist":{"shasum":"ca8130210354cf13d9a722bc7e923778457bb192","tarball":"https://registry.npmjs.org/static-eval/-/static-eval-1.1.1.tgz"},"maintainers":[{"name":"ahdinosaur","email":"michael.williams@enspiral.com"},{"name":"substack","email":"substack@gmail.com"}],"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/static-eval-1.1.1.tgz_1475078052162_0.18367574457079172"},"directories":{}},"2.0.0":{"name":"static-eval","version":"2.0.0","description":"evaluate statically-analyzable expressions","main":"index.js","dependencies":{"escodegen":"^1.8.1"},"devDependencies":{"esprima":"^2.7.3","tape":"^4.6.0"},"scripts":{"test":"tape test/*.js"},"testling":{"files":"test/*.js","browsers":["ie/8..latest","ff/latest","chrome/latest","opera/latest","safari/latest"]},"repository":{"type":"git","url":"git://github.com/substack/static-eval.git"},"homepage":"https://github.com/substack/static-eval","keywords":["static","eval","expression","esprima","ast","abstract","syntax","tree","analysis"],"author":{"name":"James Halliday","email":"mail@substack.net","url":"http://substack.net"},"license":"MIT","gitHead":"5bba7905b0e797460b8f6c2e38ff6869146faab3","bugs":{"url":"https://github.com/substack/static-eval/issues"},"_id":"static-eval@2.0.0","_npmVersion":"5.4.1","_nodeVersion":"6.3.1","_npmUser":{"name":"substack","email":"substack@gmail.com"},"dist":{"integrity":"sha512-6flshd3F1Gwm+Ksxq463LtFd1liC77N/PX1FVVc3OzL3hAmo2fwHFbuArkcfi7s9rTNsLEhcRmXGFZhlgy40uw==","shasum":"0e821f8926847def7b4b50cda5d55c04a9b13864","tarball":"https://registry.npmjs.org/static-eval/-/static-eval-2.0.0.tgz"},"maintainers":[{"name":"ahdinosaur","email":"michael.williams@enspiral.com"},{"name":"substack","email":"substack@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/static-eval-2.0.0.tgz_1507193946344_0.5667270952835679"},"directories":{}}},"readme":"# static-eval\n\nevaluate statically-analyzable expressions\n\n[![testling badge](https://ci.testling.com/substack/static-eval.png)](https://ci.testling.com/substack/static-eval)\n\n[![build status](https://secure.travis-ci.org/substack/static-eval.png)](http://travis-ci.org/substack/static-eval)\n\n# example\n\n``` js\nvar evaluate = require('static-eval');\nvar parse = require('esprima').parse;\n\nvar src = process.argv[2];\nvar ast = parse(src).body[0].expression;\n\nconsole.log(evaluate(ast));\n```\n\nIf you stick to simple expressions, the result is statically analyzable:\n\n```\n$ node '7*8+9'\n65\n$ node eval.js '[1,2,3+4*5-(5*11)]'\n[ 1, 2, -32 ]\n```\n\nbut if you use statements, undeclared identifiers, or syntax, the result is no\nlonger statically analyzable and `evaluate()` returns `undefined`:\n\n```\n$ node eval.js '1+2+3*n'\nundefined\n$ node eval.js 'x=5; x*2'\nundefined\n$ node eval.js '5-4*3'\n-7\n```\n\nYou can also declare variables and functions to use in the static evaluation:\n\n``` js\nvar evaluate = require('static-eval');\nvar parse = require('esprima').parse;\n\nvar src = '[1,2,3+4*10+n,foo(3+5),obj[\"\"+\"x\"].y]';\nvar ast = parse(src).body[0].expression;\n\nconsole.log(evaluate(ast, {\n    n: 6,\n    foo: function (x) { return x * 100 },\n    obj: { x: { y: 555 } }\n}));\n```\n\n# methods\n\n``` js\nvar evaluate = require('static-eval');\n```\n\n## evaluate(ast, vars={})\n\nEvaluate the [esprima](https://npmjs.org/package/esprima)-parsed abstract syntax\ntree object `ast` with an optional collection of variables `vars` to use in the\nstatic expression resolution.\n\nIf the expression contained in `ast` can't be statically resolved, `evaluate()`\nreturns undefined.\n\n# install\n\nWith [npm](https://npmjs.org) do:\n\n```\nnpm install static-eval\n```\n\n# license\n\nMIT\n","maintainers":[{"name":"ahdinosaur","email":"michael.williams@enspiral.com"},{"name":"substack","email":"substack@gmail.com"}],"time":{"modified":"2018-03-17T12:03:31.437Z","created":"2013-07-21T05:14:24.149Z","0.0.0":"2013-07-21T05:14:27.933Z","0.1.0":"2013-11-05T03:01:45.848Z","0.1.1":"2014-04-20T09:08:41.637Z","0.2.0":"2014-04-20T14:25:35.388Z","0.2.1":"2014-04-21T06:20:33.498Z","0.2.2":"2014-05-17T01:39:05.424Z","0.2.3":"2014-06-16T08:53:36.912Z","0.2.4":"2015-03-13T06:43:29.931Z","1.0.0":"2016-09-28T15:50:16.647Z","1.1.0":"2016-09-28T15:52:33.741Z","1.1.1":"2016-09-28T15:54:13.836Z","2.0.0":"2017-10-05T08:59:06.417Z"},"author":{"name":"James Halliday","email":"mail@substack.net","url":"http://substack.net"},"repository":{"type":"git","url":"git://github.com/substack/static-eval.git"},"homepage":"https://github.com/substack/static-eval","keywords":["static","eval","expression","esprima","ast","abstract","syntax","tree","analysis"],"bugs":{"url":"https://github.com/substack/static-eval/issues"},"license":"MIT","readmeFilename":"readme.markdown","users":{"wenbing":true,"jackishere":true,"yibn2008":true,"krambuhl":true,"nelak":true,"laomu":true},"_attachments":{},"_etag":"\"5aad0413-4603\"","_lastModified":"Sat, 17 Mar 2018 12:03:31 GMT"}